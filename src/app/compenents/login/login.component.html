<div class="main">

    <p-toast></p-toast>
    <ng-toast [position]="ToasterPosition.TOP_CENTER"></ng-toast>

    <form [formGroup]="User" (ngSubmit)="login()">
        <div class="login">
            <h4 class="text-white text-center mb-3">{{ isLogin ? "Connexion" : "Inscription" }}</h4>

            <div *ngIf="!isLogin">
                <label class="text-primary-50" for="email">Email</label><br>
                <input type="email" id="email" appStypeForInput formControlName="email"><br>
                <small *ngIf="User.controls?.['email'].errors?.['required'] && (User.get('email').touched || isSubmited)"
                    class="text-danger">*Email est requis</small>
                <small *ngIf="User.controls?.['email'].errors?.['email'] && (User.get('email').touched || isSubmited)"
                    class="text-danger">*Email invalide</small>
            </div>

            <div>
                <label class="text-primary-50" for="username">Nom d'utilisateur</label><br>
                <input type="text" id="username" appStypeForInput formControlName="username"><br>
                <small *ngIf="!User.get('username').valid && (User.get('username').touched || isSubmited)"
                    class="text-danger">*Nom d'utilisateur est requis</small>
            </div>

            <div class="mt-2">
                <label class="text-primary-50 font-semibold" for="Password">Mot de passe</label><br>
                <input type="password" id="Password" appStypeForInput formControlName="password"><br>
                <small *ngIf="!User.get('password').valid && (User.get('password').touched || isSubmited)"
                    class="text-danger">*Mot de passe est requis</small><br>
                <a class="text-white mt-1">Mot de passe oublié ?</a>
            </div>

            <br>
            <div class="mt-2">
                <button class="btnLogin" [style]="{ 'width': '100%'}" type="submit">{{ isLogin ? "Connexion" : "S'inscrire" }}</button>
            </div>
            <br>
            <div class="mt-4">
                <p class="text-white">{{ isLogin ? "Vous n'avez pas de compte ?" : "Vous avez déjà un compte ?" }}
                    <a class="text-white" (click)="toggleIsLogin()">{{ isLogin ? "S'inscrire" : "Connexion" }}</a>
                </p>
            </div>
        </div>
    </form>

</div>

<app-loader *ngIf="isShowLoader"></app-loader>
